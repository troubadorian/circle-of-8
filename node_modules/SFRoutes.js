//All of my controller Functions/Methods
//There is an issue with hoisiting
var SFC = require('SFControllers');

var SFRoutes = {
	"/"     : SFC.RootViewController,
	"/user" : SFC.UserViewController,
	"/favicon.ico" : SFC.FaviconViewController,
	"fallback" : FallBack
};

function FallBack (request, response, query, hash) {
	// if the Routes do not have the path to the service, we can check for the request
	// if the resource exists, then we add it to the Routes Object
	// else, 404 :P

	// Will write valid cases here in future {...}

	//Handling all 404 cases
	response.statusCode = 404;

	// respond with html page
  if (request.accepts('html')) {
	  response.write('404', { url: request.url });
	  response.end();
	  return;
  }

	// respond with json
  if (request.accepts('json')) {
    response.send({ error: 'Not found' });
    response.end();
    return;
  }

  // default to plain-text. send()
  response.type('txt').send('Not found');
  return;
}




module.exports = SFRoutes;	